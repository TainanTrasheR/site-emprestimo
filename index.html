<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Empr√©stimos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>üìä Sistema de Empr√©stimos</h1>

<!-- RESUMO -->
<div class="resumo">
  <div class="card">
    <span>Total Emprestado</span>
    <strong id="resumoEmprestado">R$ 0,00</strong>
  </div>

  <div class="card destaque">
    <span>Total a Receber</span>
    <strong id="resumoReceber">R$ 0,00</strong>
  </div>

  <div class="card">
    <span>Total Recebido</span>
    <strong id="resumoRecebido">R$ 0,00</strong>
  </div>

  <div class="card lucro">
    <span>Lucro</span>
    <strong id="resumoLucro">R$ 0,00</strong>
  </div>

  <div class="card atrasado">
    <span>Atrasados</span>
    <strong id="resumoAtrasados">0</strong>
  </div>
</div>

<!-- TOPO -->
<div class="topo">
  <button onclick="abrirModalEmprestimo()">‚ûï Novo Empr√©stimo</button>
  <button onclick="setFiltro('todos')">üìã Todos</button>
  <button onclick="setFiltro('atrasado')">‚è∞ Atrasados</button>
  <button onclick="setFiltro('emdia')">‚úÖ Em dia</button>
</div>

<!-- FILTRO -->
<div class="filtro-periodo">
  <h3>üìÖ Recebimentos por per√≠odo</h3>
  <div class="linha">
    <input type="date" id="filtroInicio">
    <input type="date" id="filtroFim">
    <button onclick="filtrarRecebimentos()">Buscar</button>
    <button class="secundario" onclick="setFiltro('todos')">Limpar</button>
  </div>
</div>

<!-- TABELA -->
<table>
  <thead>
    <tr>
      <th>Cliente</th>
      <th>Emprestado</th>
      <th>Total</th>
      <th>Recebido</th>
      <th>Lucro</th>
      <th>Vencimento</th>
      <th>Status</th>
      <th class="col-acoes">A√ß√µes</th>
    </tr>
  </thead>
  <tbody id="tabelaEmprestimos"></tbody>
</table>

<!-- MODAL EMPR√âSTIMO -->
<div class="modal" id="modalEmprestimo">
  <div class="modal-content">
    <h3>Novo Empr√©stimo</h3>

    <input id="nomeCliente" placeholder="Nome">
    <input id="telefoneCliente" placeholder="Telefone">
    <input id="valor" type="number" placeholder="Valor emprestado" oninput="calcularTotal()">

    <select id="tipoCobranca" onchange="atualizarModoCobranca()">
      <option value="juros">Com juros (%)</option>
      <option value="fixo">Valor fixo</option>
    </select>

    <input id="juros" type="number" placeholder="Juros (%)" oninput="calcularTotal()">
    <input id="totalReceber" type="number" placeholder="Total a receber">

    <input id="qtdParcelas" type="number" min="1" value="1">
    <input id="primeiroVencimento" type="date">

    <div class="acoes-modal">
      <button onclick="salvarEmprestimo()">Salvar</button>
      <button onclick="fecharModal()">Cancelar</button>
    </div>
  </div>
</div>

<!-- MODAL PARCELAS -->
<div class="modal" id="modalParcelas">
  <div class="modal-content">
    <h3>Parcelas</h3>
    <div id="listaParcelas"></div>
    <button onclick="fecharModal()">Fechar</button>
  </div>
</div>

<!-- MODAL PAGAMENTO -->
<div class="modal" id="modalPagamento">
  <div class="modal-content">
    <h3>Registrar Pagamento</h3>
    <input id="valorPagamento" type="number" step="0.01" placeholder="Valor pago">

    <div class="acoes-modal">
      <button onclick="confirmarPagamento()">Salvar</button>
      <button onclick="fecharModal()">Cancelar</button>
    </div>
  </div>
</div>

<script src="db.js"></script>
<script src="sistema.js"></script>
<script>iniciarBanco();</script>

</body>
</html>
